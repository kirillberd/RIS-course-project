{% extends 'base_template.html' %}
{% block content %}
<link rel="stylesheet" href="static/auth.css">
<div class="auth-container">
    <div class="auth-nav">
        <button class="auth-nav-btn active" data-form="login">Вход</button>
        <button class="auth-nav-btn" data-form="register">Регистрация</button>
    </div>

    <div class="auth-form" id="login-form">
        <h2>Вход в систему</h2>
        <form method="POST" action="/login">
            <div class="form-group">
                <label for="login-username">Имя пользователя</label>
                <input type="text" id="login-username" name="username" required>
            </div>
            <div class="form-group">
                <label for="login-password">Пароль</label>
                <input type="password" id="login-password" name="password" required>
            </div>
            <button type="submit" class="form-submit">Войти</button>
        </form>
    </div>

    <div class="auth-form hidden" id="register-form">
        <h2>Регистрация</h2>
        <form method="POST" action="/register">
            <div class="form-group">
                <label for="register-username">Имя пользователя</label>
                <input type="text" id="register-username" name="username" required>
            </div>
            <div class="form-group">
                <label for="register-email">Email</label>
                <input type="email" id="register-email" name="email" required>
            </div>
            <div class="form-group">
                <label for="register-password1">Пароль</label>
                <input type="password" id="register-password1" name="password1" required>
            </div>
            <div class="form-group">
                <label for="register-password2">Подтверждение пароля</label>
                <input type="password" id="register-password2" name="password2" required>
            </div>
            <button type="submit" class="form-submit">Зарегистрироваться</button>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const navButtons = document.querySelectorAll('.auth-nav-btn');
    const forms = document.querySelectorAll('.auth-form');

    navButtons.forEach(button => {
        button.addEventListener('click', () => {
            navButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            forms.forEach(form => form.classList.add('hidden'));

            const formToShow = document.getElementById(`${button.dataset.form}-form`);
            formToShow.classList.remove('hidden');
        });
    });
});
</script>
{% endblock %}